---
author: Cube219
created: 2024-05-29T21:34:20+09:00
updated: 2024-05-29T21:34:20+09:00
---

[31933번: 나는 연어입니다](https://www.acmicpc.net/problem/31933)

> 출처: [2024 아주대학교 프로그래밍 경시대회 APC](https://www.acmicpc.net/category/1037) Div.1 H번

# 풀이

* 연어의 수가 너무 많아, 일일히 도달 가능성을 판단하기에는 어렵다.
* 여기서 강의 개수($M$)가 $5 \, 000$으로 작은 것을 이용해보자.
* 결국 강의 폭을 구간으로 생각할 수 있는데, 도달 가능성이 바뀌는 지점들의 개수는 최대 $2M$개밖에 안 된다.
    * 각 강마다 $l$, $r+1$이며, 이들을 좌표압축하면 된다.
* 이 지점들에 대해서만 도달 가능성을 파악하면 된다.
    * 도달 가능성은 DSU, 그래프 탐색 등 아무 방법이나 사용하면 된다.
* 이제 각 연어들의 크기를 입력받으면서, 지점들을 이분탐색해 도달 가능성을 구하면 된다.
---
* 이외에도 결국 크기를 시간으로 생각해서 Offline Dynamic Connectivity로 풀 수도 있다.
    * 이경우 $M$의 크기가 커져도 빠르게 풀 수 있다.
