---
author: Cube219
created: 2024-05-27T21:17:09+09:00
updated: 2024-05-27T21:17:09+09:00
---

[31930번: AK47](https://www.acmicpc.net/problem/31930)

> 출처: [2024 성균관대학교 프로그래밍 경진대회 with APC](https://www.acmicpc.net/category/detail/4224) G번

# 풀이

* 인터랙티브 문제는 이분탐색으로 접근을 하지만, 이 문제는 그렇게 풀 수는 없다.
    * 보물이 0개/2개인 경우 결과값이 X이기 때문이다.
* 일단 영역의 절반을 쿼리로 날려보자.
    * 이때 결과값이 O라면, 해당 영역의 절반에 하나 있고, 다른 절반에 하나가 있다는 뜻이다.
    * 그러므로 중간을 기준으로 이분탐색을 2번 돌리면 된다.
* 만약 그렇지 않다면, 한쪽 영역에 몰려있는 형태이다.
* 그러므로, 중앙을 기준으로 양 옆으로 한 칸씩 늘려나가보자
* 늘리다가 결과값이 O가 들어온다면, 해당 구간 양 끝 중 한쪽에 보물이 있는것이다.
* 이 상태에서 결과값이 X로 바뀐다면, 해당 구간 양 끝 중 한쪽에 보물이 있는것이다.
* 이제 보물이 있는 후보 중 한 곳에 쿼리를 날려 보물이 어느 영역에 몰려 있는지 확인 후 정답을 출력하면 된다.
---
* 하지만 이 경우 최대 쿼리 횟수는 N=92일때 48로, 문제를 만족하지 못 한다.
* 불필요한 쿼리를 하나 지워야 하는데, 잘 생각해보면 구간을 늘릴 때 마지막 구간의 쿼리는 안 날려도 된다.
    * N=92 기준, [1, 92]는 날릴 필요가 없다.
* 대신에, 현재 보물 후보의 개수로 유추가 가능하다.
    * 만약 후보가 없다면, 보물이 될 수 있는 후보는 (1, 92) 또는 (46, 47)이다.
        * 따라서 여기서 1에 쿼리를 날려 확인하면 된다.
    * 만약 후보가 1개라면, 보물이 될 수 있는 후보는 (1, 왼쪽 후보) 또는 (오른쪽 후보, 1)이다.
        * 따라서 [왼쪽 후보, 46]을 날려 확인하면 된다.
    * 만약 후보가 2개라면 이전과 동일하게 하면 된다.
* 이 경우, 처음 쿼리 1 + 영역 쿼리 최대 45 + 마지막 쿼리 1 = 최대 47 로 문제를 만족하게 된다.
---
* 이 외에도 절반 쿼리 후, 해당 크기를 유지한 채 슬라이스 윈도우로 옮기면서 풀 수 도 있다.
    * 실은 이 방법이 더 쉽다.
