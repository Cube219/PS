---
author: Cube219
created: 2023-12-17T12:34:12+09:00
updated: 2023-12-17T12:34:12+09:00
---

[12857번: 홍준이는 문자열을 좋아해](https://www.acmicpc.net/problem/12857)

# 풀이

* 쿼리로 들어오는 문자열의 길이가 최대 4이므로, 원본 문자열을 길이가 1,2,3,4인 substring의 위치를 전부 기록해두자. 쿼리로 들어오는 문자열을 s1,s2라 하고, 해당 문자열의 위치들을 기록한 배열을 pos1, pos2라고 했을 때, 투 포인터로 진행하자.
* 두 문자열의 위치를 알 때, 두 문자열을 포함하는 substring의 왼쪽은 min(pos1[i1], pos2[i2]), 오른쪽은 max(pos1[i1]+n1-1, pos2[i2]+n2-1)이므로 substring의 최소 길이를 구할 수 있다. 이제 둘 중 하나를 오른쪽으로 이동해야 하는데, 오른쪽 값 중 더 작은 문자열을 이동하면 된다.
* 이러면 쿼리당 O(N)이라서 시간 안에 안 돌 것 같지만, 실제로는 돌아간다. 엄밀하게 증명은 못하겠으나, 같은 substring이 많이 있다면 다른 substring들은 상대적으로 적어지기 때문이다. 결과값만 잘 캐싱하면 된다.