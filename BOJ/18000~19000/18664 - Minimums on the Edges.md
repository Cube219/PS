---
author: Cube219
created: 2022-12-02T12:27:08+09:00
updated: 2022-12-02T12:27:08+09:00
---

[18664번: Minimums on the Edges](https://www.acmicpc.net/problem/18664)

# 풀이

![](attachments/Pasted%20image%2020221202122727.png)
3차원으로 생각해서 토큰에 층이 있다고 생각하자. 그리고 각 층별로 토큰을 나눠보자. 그러면 구하고자 하는 것이 각 층별로 연결된 간선의 개수의 합으로 바뀐다.

이러면 각 층에서 선택된 정점들은 밑에 층에서 선택된 정점들의 부분집합 이어야 할 것 같은데, 실은 그럴 필요가 없다. 빈 공간에 정점을 밑으로 내려도 간선의 개수가 바뀌지 않기 때문이다.

정점을 x개 선택했을 때, 최대 간선의 개수를 C(x)라 하자. 이것은 정점을 선택하는 모든 경우의 수를 돌면서 구하면 된다. 이제 C를 이용해 개수가 무한히 있는 knapsack dp를 돌리면 된다.
