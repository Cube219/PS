---
author: Cube219
created: 2022-12-02T12:23:37+09:00
updated: 2022-12-02T12:23:37+09:00
---

[18253번: 최단경로와 쿼리](https://www.acmicpc.net/problem/18253)

# 풀이

$N$이 5밖에 안 되는 것에 주목하자. $a$에서 $b$로 갈 때 반드시 두 지점 사이 col을 지나는 것을 생각할 수 있다.

여기가 떠올리기 어려운데... col을 기준으로 DnC를 해보자. DnC로 나눈 영역에서 가운데를 col로 설정하고, col의 5지점을 다익스트라로 최단거리들을 구하자.

만약 쿼리가 col 양쪽에 있다면, 최단경로는 무조건 col을 지나므로 아까 구한 다익스트라 값으로 바로 구할 수 있다. 만약 아니라면 col을 기준으로 왼쪽/오른쪽에 몰려있는 경우인데, 이러면 col을 지나는 경우/지나지 않는 경우 2가지로 나눌 수 있다.

col을 지나는 경우는 아까 다익스트라 값으로 구한다. 지나지 않는 경우는 현재 영역의 절반을 무시해도 되므로 절반으로 분할해서 Dnc를 한다. 이것은 영역을 분할할 때 해당하는 쿼리 index들만 함수로 넣으면 된다.
