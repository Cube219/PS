---
author: Cube219
created: 2022-12-18T23:25:50+09:00
updated: 2022-12-18T23:25:50+09:00
---

[23873번: HILO](https://www.acmicpc.net/problem/23873)

# 풀이

`x`가 0에서부터 시작해 1씩 올려보자. 처음에는 모든 구간이 hi일 것이고, `x`인 부분이 lo가 될 것이다.

lo를 기준으로 앞에 hi가 있는지 생각해보자. lo로 바뀐 위치를 `pos`라 하자. hi가 될 수 있는 후보는 `[0,pos)`에서 lo인 것 중 가장 큰 lo의 위치를 `lpos`라 하면, `[lpos+1, pos-1]`이 된다. (1부터 순서대로 lo가 바뀌고, 해당 영역 사이에 lo가 있어도 가장 큰 lo에 의해 무시되기 때문이다.)

이제 이 영역에 있는 hi들 중 살아있는 것이 있는지, 언제 살아나는지 알아야 한다. 영역에 있는 hi들 중 가장 작은 값(`mn`)을 기준으로 생각하자.

`mn`이 무시가 되는 경우는 앞에 `mn`보다 작은 hi가 있는 경우고, 이 hi들이 lo로 바뀌어야 `mn`이 살아난다. 즉, `mn` 앞에 있는 hi들 중 `mn`보다 작으면서 가장 큰 hi가 lo로 바뀔 때 부터 살아난다.

이제 lo가 무시되는 경우를 생각해보자. 무시되는 경우는 앞에 hi가 lo로 바뀌는 경우이고, 이는 앞에 있는 hi들 중 가장 작은 hi가 바뀔 때부터 무시된다. (실은 위의 경우 때문에 아까 `mn` 앞에 있는 hi가 바뀔 때 시작된다고 했는데, 그런 hi가 있으면 위의 경우 때문에 바로 종료된다.)

이제 lo를 기준으로 살아나고 무시되는 시간을 구했으니 답을 구할 수 있다.

참고로 풀이가 많이 있는 것 같다. USACO에서는 stack이나 set을 써서 푸는 것 같다.
