---
author: Cube219
created: 2023-12-24T16:50:24+09:00
updated: 2023-12-24T16:50:24+09:00
---

[25599번: 푸앙이와 레벨업](https://www.acmicpc.net/problem/25599)

# 풀이

* 경험치를 최대한 많이 먹어야 하므로, 모든 영역에서 발도술을 사용해야 하며 그때 영역에 있는 최댓값들을 가져오면 된다. K를 모든 N에 대해서 한다면 시간 안에 안 나온다. 그런데 만약 K가 가능하다면 K보다 큰 값은 무조건 가능하다. 그러므로 parametric search로 K를 찾아보자.
* 이제 영역에 있는 최댓값을 빠르게 구해야 한다. 사각형 안에 있는 작은 사각형을 활용하면 빠르게 구할 수 있을 것 같고, RMQ(Range Minimun Query)를 sparse table로 구하는 것을 2차원으로 확장하면 될 것 같다.
* 먼저 d[k][i][j] = (i,j)에서 시작해서 길이가 2^k인 사각형 안에서 최댓값이라 정의하자. 그러면 이 테이블은 d[k-1]에서 네 모서리에서의 영역의 최댓값으로 테이블을 채울 수 있다. 이제 사각형 구간을 확인할 때는 길이에 맞는 k를 찾고 네 모서리에서의 영역의 최댓값으로 구하면 된다.