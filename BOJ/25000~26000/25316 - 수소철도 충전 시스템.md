---
author: Cube219
created: 2023-12-03T22:27:47+09:00
updated: 2023-12-03T22:27:47+09:00
---

[25316번: 수소철도 충전 시스템](https://www.acmicpc.net/problem/25316)

# 풀이

* 트리 dp에서 올릴 때 가장 최적의 상황을 올리는 것이 좋다. 만약 경로가 있다면 가장 긴 경로를, 열차를 올려야 한다면 남은 길이가 가장 짧은 열차를 올려야 한다.
* 자식 노드에서 이러한 정보들을 올린 뒤, 남은 길이의 열차들이 있으면 자식의 남은 경로들을 잘 배치해야 한다. 이는 가장 긴 길이의 열차부터 보면서 하나씩 매칭해주면 된다.
* 여기서 주의할 점이 가장 긴 열차부터 봐야한다는 점인데, 그래야 남은 열차를 올려보낼 때 가장 짧은 열차를 올리기 때문이다. 만약 2개 이상의 열차를 올려보내야 한다면 NO.
* 매칭하고 열차 끝 정점도 구해야 하는데, 남은 열차 길이가 남은 경로 길이보다 작다면 경로 정점을 올려야 한다. 여기서 sparse table을 안 써도 되는데, 결국 간선은 한 번만 지나기 때문에 올리는 수는 최대 N-1이기 때문이다.