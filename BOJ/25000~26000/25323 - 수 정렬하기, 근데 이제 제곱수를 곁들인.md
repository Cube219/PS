---
author: Cube219
created: 2023-12-03T22:32:44+09:00
updated: 2023-12-03T22:32:44+09:00
---

[25323번: 수 정렬하기, 근데 이제 제곱수를 곁들인](https://www.acmicpc.net/problem/25323)

# 풀이

* 두 수를 곱해서 제곱수라는 것은, 소인수분해해서 차수가 홀수인 소수들의 곱이 같다는 뜻이다. 그렇기 때문에 해당 값이 같은 숫자들끼리만 바꿀 수 있어서 서로 상호 배타적이다. 그렇기 때문에 a를 정렬한 것이 a2라 할 때, a[i]와 a2[i] 같은 그룹(제곱수)에 속하는지 확인하면 된다.
* 문제는 수의 범위가 너무 커서 곱하면 long long을 벗어나는데, 최대공약수를 이용하면 된다. a[i]/g, a2[i]/g가 제곱수인지만 확인하면 된다. 곱해지면 g는 g^2가 되므로 상관없고, 남은 수들은 서로 겹치지 않으므로 둘 다 제곱수어야만 제곱수가 된다. 아니면 그냥 int128을 쓰자.
* 제곱수인지 확인하는 방법은 sqrt를 쓰기에는 소수점 오차때문에 안 될 가능성이 있으므로, 이분탐색으로 구하자.
