---
author: Cube219
created: 2023-12-17T17:52:45+09:00
updated: 2023-12-17T17:52:45+09:00
---

[21566번: 트리 정리하기](https://www.acmicpc.net/problem/21566)

# 풀이

* 트리의 지름을 쫙 펴놓고 생각하면 도저히 답이 안 나온다. 임의의 노드 x를 중심으로 생각해보자. 만약 x-a-b-c 이렇게 선택하면 x-b,x-c-a 이렇게 2개로 나누어지고, x의 차수는 1 증가하게 된다. 이것을 계속 하면 x의 차수는 최대 N-2가 되고, 그러면 깊이는 최대 2가 되므로 지름은 최대 4가 된다
* 이것을 DFS로 연속된 노드 4개를 선택할 수 있는지 보고, 있으면 계속 바꿔주면 된다. 간선을 지우고 추가하는 과정이 있으므로 vector<set<int>>로 빠르게 찾고 지우자.